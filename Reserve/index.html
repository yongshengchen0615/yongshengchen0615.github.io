<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LINE MINI App é ç´„ç³»çµ±</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        .container {
            max-width: 400px;
            margin: auto;
        }
        input, select, button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>é ç´„æœå‹™</h2>
        <label>é¸æ“‡æ—¥æœŸï¼š</label>
        <input type="date" id="date">
        
        <label>é¸æ“‡æ™‚æ®µï¼š</label>
        <select id="time">
            <option value="10:00">10:00 AM</option>
            <option value="14:00">2:00 PM</option>
            <option value="18:00">6:00 PM</option>
        </select>

        <label>é¸æ“‡æœå‹™ï¼š</label>
        <select id="service">
            <option value="è¶³éƒ¨è­·ç†">è¶³éƒ¨è­·ç†</option>
            <option value="å…¨èº«æŒ‡å£“">å…¨èº«æŒ‡å£“</option>
            <option value="ç²¾æ²¹æŒ‰æ‘©">ç²¾æ²¹æŒ‰æ‘©</option>
        </select>

        <button onclick="submitBooking()">é€å‡ºé ç´„</button>
    </div>

    <script>
        function submitBooking() {
            const date = document.getElementById('date').value;
            const time = document.getElementById('time').value;
            const service = document.getElementById('service').value;

            if (!date) {
                alert('è«‹é¸æ“‡æ—¥æœŸï¼');
                return;
            }

            const message = `ğŸ“… é ç´„æ—¥æœŸï¼š${date}\nâ° é ç´„æ™‚é–“ï¼š${time}\nğŸ’† æœå‹™å…§å®¹ï¼š${service}`;
            
            // åˆå§‹åŒ– LIFF
            liff.init({ liffId: "2007061321-g603NNZG" })  // æ›¿æ›ç‚ºä½ çš„ LIFF ID
                .then(() => {
                    if (!liff.isLoggedIn()) {
                        liff.login();
                    } else {
                        liff.sendMessages([{
                            type: "text",
                            text: message
                        }]).then(() => {
                            alert("é ç´„æˆåŠŸï¼å·²é€šçŸ¥å®˜æ–¹å¸³è™Ÿ");
                            liff.closeWindow();  // é—œé–‰ LINE MINI App
                        }).catch(err => {
                            console.error("ç™¼é€å¤±æ•—:", err);
                            alert("ç™¼é€å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦");
                        });
                    }
                })
                .catch(err => {
                    console.error("LIFF åˆå§‹åŒ–å¤±æ•—:", err);
                });
        }
    </script>
</body>
</html>
