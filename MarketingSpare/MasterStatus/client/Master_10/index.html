<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>預約月曆 & 師傅狀態</title>

  <!-- 外部 CSS -->
  <link rel="stylesheet" href="styles.css">

  <!-- LINE LIFF SDK -->
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
  <!-- 全螢幕 Loading -->
  <div id="loadingOverlay">
    <div class="loader"></div>
    <div class="loading-text">初始化中…</div>
  </div>

  <!-- 主要畫面：資料載入完才顯示 -->
  <div id="appContainer">
    <div class="calendar-container">
      <h1>預約月曆 & 師傅狀態</h1>

      <!-- 上方說明文字（動態更新） -->
      <div class="subtitle"></div>

      <!-- 審核狀態提示卡（JS 控制顯示/隱藏） -->
      <div id="auditNotice" class="audit-notice" style="display:none;"></div>

      <!-- ✅ 審核通過才顯示的功能區 -->
      <div id="protectedContent" style="display:none;">

      <!-- 月曆導航 -->
      <div class="month-nav">
        <button id="prevBtn">← 上個月</button>
        <div id="monthLabel" class="month-label"></div>
        <button id="nextBtn">下個月 →</button>
      </div>

      <!-- 月曆表格 -->
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>日</th><th>一</th><th>二</th><th>三</th>
              <th>四</th><th>五</th><th>六</th>
            </tr>
          </thead>
          <tbody id="calendarBody"></tbody>
        </table>
      </div>

      <!-- 日期說明 -->
      <div id="popup" class="event-popup" style="display:none;"></div>

      <!-- 師傅狀態卡片 -->
      <div class="tech-status-card">
        <div class="tech-status-head">
          <div class="tech-status-title">
            師傅 <span id="techMasterId">--</span> 目前狀態
          </div>
        </div>

        <div class="tech-status-grid">
          <!-- 身體 -->
          <div>
            <div class="tech-col-title">身體</div>
            <div class="tech-row">
              <span class="tech-label">狀態</span>
              <span class="tech-value" id="bodyStatusText">-</span>
            </div>
            <div class="tech-row">
              <span class="tech-label">預約</span>
              <span class="tech-value" id="bodyAppointmentText">-</span>
            </div>
            <div class="tech-row">
              <span class="tech-label">剩餘時間</span>
              <span class="tech-value" id="bodyRemainingText">-</span>
            </div>
          </div>

          <!-- 腳底 -->
          <div>
            <div class="tech-col-title">腳底</div>
            <div class="tech-row">
              <span class="tech-label">狀態</span>
              <span class="tech-value" id="footStatusText">-</span>
            </div>
            <div class="tech-row">
              <span class="tech-label">預約</span>
              <span class="tech-value" id="footAppointmentText">-</span>
            </div>
            <div class="tech-row">
              <span class="tech-label">剩餘時間</span>
              <span class="tech-value" id="footRemainingText">-</span>
            </div>
          </div>
        </div>
      </div>

      </div>

    </div>
  </div>

  <!-- 主程式 -->
  <script src="app.js"></script>
</body>
</html>
