/* =========
   Theme Tokens
   ========= */

:root{
  /* common */
  --radius-lg:14px;
  --radius-md:10px;
  --shadow:0 10px 30px rgba(0,0,0,.20);
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
  --sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC","Helvetica Neue", Arial;

  /* semantic colors (shared) */
  --accent:#38bdf8;
  --success:#16a34a;
  --warning:#f59e0b;
  --danger:#ef4444;
  --muted:#64748b;

  /* default = dark */
  --bg:#020617;
  --bg-page:radial-gradient(circle at top,#0f172a 0,#020617 45%,#020617 100%);
  --card:rgba(255,255,255,.03);
  --card2:rgba(0,0,0,.18);
  --border:#1f2937;
  --border-soft:rgba(31,41,55,.6);
  --text:#e5e7eb;
  --text-sub:#9ca3af;
  --input-bg:#020617;

  --accent-soft:rgba(56,189,248,.12);
  --success-soft:rgba(22,163,74,.12);
  --warning-soft:rgba(245,158,11,.12);
  --danger-soft:rgba(239,68,68,.12);
}

/* light theme overrides */
html[data-theme="light"]{
  --bg:#f8fafc;
  --bg-page:radial-gradient(circle at top,#ffffff 0,#f8fafc 55%,#f8fafc 100%);
  --card:rgba(0,0,0,.02);
  --card2:rgba(255,255,255,.75);
  --border:#e2e8f0;
  --border-soft:rgba(226,232,240,.75);
  --text:#0f172a;
  --text-sub:#475569;
  --input-bg:#ffffff;

  --shadow:0 10px 30px rgba(2,6,23,.10);
  --accent-soft:rgba(56,189,248,.16);
  --success-soft:rgba(22,163,74,.16);
  --warning-soft:rgba(245,158,11,.16);
  --danger-soft:rgba(239,68,68,.16);
}

*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; font-family:var(--sans); color:var(--text); background:var(--bg-page); }

.app{ min-height:100%; display:flex; justify-content:center; padding:18px; }
.card{
  width:min(1300px, 100%);
  border:1px solid var(--border);
  border-radius:var(--radius-lg);
  box-shadow:var(--shadow);
  overflow:hidden;
  background:linear-gradient(180deg, var(--card), transparent);
}

/* header */
.card-header{
  display:flex; justify-content:space-between; align-items:flex-start; gap:14px;
  padding:16px 16px 12px;
  border-bottom:1px solid var(--border);
  background:var(--card2);
}
.title-wrap h1{ margin:0; font-size:18px; letter-spacing:.2px; }
.title-wrap p{ margin:4px 0 0; color:var(--text-sub); font-size:12px; }

.header-actions{
  display:flex;
  align-items:center;
  gap:10px;
}
#summaryText{
  font-family:var(--mono);
  font-size:12px;
  color:var(--text-sub);
  white-space:nowrap;
}

/* toolbar */
.toolbar{
  display:flex; flex-wrap:wrap; gap:10px; align-items:center;
  padding:12px 16px; border-bottom:1px solid var(--border);
  background:var(--card2);
}
.search-box{
  display:flex; align-items:center; gap:8px;
  background:var(--card);
  border:1px solid var(--border);
  padding:7px 10px; border-radius:999px; color:var(--text-sub);
}
.search-box input{
  border:none; outline:none; background:transparent; color:var(--text);
  width:240px; font-size:12px;
}

.chip{
  border:1px solid var(--border);
  background:var(--card);
  color:var(--text-sub);
  font-size:12px;
  padding:7px 10px;
  border-radius:999px;
  cursor:pointer;
}
.chip.active{
  color:var(--accent);
  border-color:rgba(56,189,248,.45);
  background:var(--accent-soft);
}

/* table */
.table-wrap{ overflow:auto; padding:10px 16px 14px; }
table{
  width:100%;
  min-width:1120px;
  border-collapse:separate;
  border-spacing:0;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius-md);
  overflow:hidden;
}
thead th{
  position:sticky; top:0; z-index:1;
  background:var(--bg);
  color:var(--text-sub);
  font-weight:600; font-size:12px;
  text-align:left;
  padding:10px 10px;
  border-bottom:1px solid var(--border);
  white-space:nowrap;
}
tbody td{
  padding:10px 10px;
  border-bottom:1px solid var(--border-soft);
  font-size:12px;
  vertical-align:middle;
  white-space:nowrap;
}
tbody tr:hover{ background:var(--accent-soft); }

/* inputs */
input[type="date"], input[type="number"], input[type="text"], select{
  font-size:12px;
  padding:3px 6px;
  border-radius:6px;
  border:1px solid var(--border);
  background:var(--input-bg);
  color:var(--text);
  outline:none;
}
input[type="date"]:focus, input[type="number"]:focus, input[type="text"]:focus, select:focus{
  border-color:var(--accent);
}

/* expiry pill */
.expiry-pill{
  display:inline-flex; align-items:center;
  padding:3px 8px; border-radius:999px;
  border:1px solid var(--border);
  font-size:12px; color:var(--text-sub);
  background:var(--card2);
}
.expiry-pill.active{ border-color:rgba(22,163,74,.4); background:var(--success-soft); color:var(--success); }
.expiry-pill.expired{ border-color:rgba(239,68,68,.4); background:var(--danger-soft); color:var(--danger); }
.expiry-pill.unset{ border-color:rgba(56,189,248,.35); background:var(--accent-soft); color:var(--accent); }

/* buttons */
.btn{
  border:1px solid var(--border);
  background:var(--card);
  color:var(--text);
  border-radius:10px;
  padding:6px 10px;
  cursor:pointer;
  font-size:12px;
  margin-right:6px;
}
.btn:hover{ border-color:rgba(56,189,248,.4); }
.btn.primary{
  border-color:rgba(56,189,248,.55);
  background:var(--accent-soft);
  color:var(--accent);
}
.btn.danger{
  border-color:rgba(239,68,68,.55);
  background:var(--danger-soft);
  color:var(--danger);
}
.btn[disabled]{ opacity:.55; cursor:not-allowed; }

/* audit badge */
.audit-badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:3px 8px;
  border-radius:999px;
  border:1px solid var(--border);
  background:var(--card2);
  font-size:12px;
  margin-left:8px;
  user-select:none;
}
.audit-badge.pending{
  border-color:rgba(245,158,11,.45);
  background:var(--warning-soft);
  color:var(--warning);
}
.audit-badge.approved{
  border-color:rgba(22,163,74,.45);
  background:var(--success-soft);
  color:var(--success);
}
.audit-badge.rejected{
  border-color:rgba(239,68,68,.45);
  background:var(--danger-soft);
  color:var(--danger);
}
.audit-badge.disabled{
  border-color:rgba(100,116,139,.45);
  background:rgba(100,116,139,.10);
  color:var(--muted);
}
.audit-badge.other{
  border-color:rgba(56,189,248,.45);
  background:var(--accent-soft);
  color:var(--accent);
}

/* footer */
.footer-status{
  padding:12px 16px 14px;
  border-top:1px solid var(--border);
  color:var(--text-sub);
  font-size:12px;
  font-family:var(--mono);
  background:var(--card2);
}

/* toast */
.toast{
  position:fixed;
  left:50%;
  bottom:18px;
  transform:translateX(-50%);
  background:var(--bg);
  border:1px solid rgba(56,189,248,.35);
  color:var(--text);
  padding:10px 14px;
  border-radius:12px;
  box-shadow:var(--shadow);
  font-size:12px;
  opacity:0;
  pointer-events:none;
  transition:opacity .18s ease, transform .18s ease;
}
.toast.show{
  opacity:1;
  transform:translateX(-50%) translateY(-4px);
}
.toast.ok{ border-color:rgba(22,163,74,.35); }
.toast.err{ border-color:rgba(239,68,68,.35); }
