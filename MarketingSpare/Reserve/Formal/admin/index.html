<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>預約設定後台</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <div class="container">
    <h1>預約設定後台</h1>

    <!-- 已改為在程式碼中設定 ENDPOINT 常數，不再於畫面輸入 -->

    <form id="bookingForm">
      <fieldset>
        <legend>🕒 預約時間設定</legend>
        <label>開始時間：<input type="time" id="startTime" /></label>
        <label>結束時間：<input type="time" id="endTime" /></label>
      </fieldset>

      <fieldset>
        <legend>⏳ 預約限制</legend>
        <label>當天預約需提前（分鐘）：<input type="number" id="bufferMinutes" /></label>
        <label>最多可預約天數：<input type="number" id="maxBookingDays" /></label>
      </fieldset>

      <fieldset>
        <legend>⛔ 中間休息時間</legend>
        <div id="breakPeriodList"></div>
        <button type="button" onclick="addBreakPeriod()">＋ 新增休息時間</button>
      </fieldset>

      <fieldset>
        <legend>📅 每週固定休假日</legend>
        <div id="weeklyOffCheckboxes">
          <label><input type="checkbox" value="0" /> 週日</label>
          <label><input type="checkbox" value="1" /> 週一</label>
          <label><input type="checkbox" value="2" /> 週二</label>
          <label><input type="checkbox" value="3" /> 週三</label>
          <label><input type="checkbox" value="4" /> 週四</label>
          <label><input type="checkbox" value="5" /> 週五</label>
          <label><input type="checkbox" value="6" /> 週六</label>
        </div>
        <div style="margin-top:8px;display:flex;gap:8px;align-items:center;">
          <button type="button" id="weeklyRefresh">重新整理每週休假</button>
          <span id="weeklyMsg" class="small"></span>
        </div>
      </fieldset>

      <fieldset>
        <legend>📆 特殊日期設定</legend>

        <div class="date-group">
          <label>假日：</label>
          <input type="date" id="holidayInput" />
          <button type="button" onclick="addDate('holiday')">新增</button>
          <div id="holidayList" class="date-list"></div>
        </div>

        <div class="date-group">
          <label>封鎖日：</label>
          <input type="date" id="blockedDayInput" />
          <button type="button" onclick="addDate('blockedDay')">新增</button>
          <div id="blockedDayList" class="date-list"></div>
        </div>

        <div class="date-group">
          <label>活動日：</label>
          <input type="date" id="eventDayInput" />
          <button type="button" onclick="addDate('eventDay')">新增</button>
          <div id="eventDayList" class="date-list"></div>
        </div>

        <div class="date-group">
          <label>半天營業日：</label>
          <input type="date" id="halfDayInput" />
          <button type="button" onclick="addDate('halfDay')">新增</button>
          <div id="halfDayList" class="date-list"></div>
        </div>

        <div style="margin-top:8px;display:flex;gap:8px;align-items:center;">
          <button type="button" id="datesRefresh">重新整理特殊日期</button>
          <span id="datesMsg" class="small"></span>
        </div>
      </fieldset>

      <button type="submit">💾 儲存設定</button>
    </form>

    <hr />
    <h2>🛠️ 服務項目管理</h2>

    <select id="serviceTypeSelect">
      <option value="main">主服務</option>
      <option value="addon">加購服務</option>
    </select>

    <div style="display:flex;gap:8px;align-items:center;margin:8px 0;">
      <button id="servicesRefresh" type="button">重新整理服務列表</button>
      <span id="servicesMsg" class="small"></span>
    </div>
    <div id="serviceList" class="date-group"></div>
    <button id="addServiceBtn" type="button">＋ 新增服務</button>

   <!-- <div id="configDisplay"></div>-->
  </div>
<!-- 刪除 bookingConfig.js -->
<!-- <script src="js/bookingConfig.js"></script> -->
<!-- 移除不存在的模組檔引用以避免 404 -->
<script src="../js/admin.js"></script>

</body>
</html>
